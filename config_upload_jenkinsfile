# Create venv if not exists
if [ ! -f "./venv/bin/python" ]; then
    python3 -m venv venv
fi

# Activate venv and install dependencies
./venv/bin/pip install --upgrade pip

# Install playwright only if not installed
if ! ./venv/bin/python -c "import playwright" 2>/dev/null; then
    ./venv/bin/pip install playwright
    ./venv/bin/python -m playwright install chromium
fi

# Run the script
./venv/bin/python scripts/gui_upload.py
